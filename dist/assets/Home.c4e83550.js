import{u as e,f as t,A as s}from"./index.e3161dfb.js";import{r as i,q as n,H as a,I as r,a as l,l as o,o as d,e as c,f as p,C as u,p as f,i as v,F as h,y as b,w as m,d as g,t as z,j as x,J as I,L as y,m as j}from"./vendor.c2d8d5d1.js";var _=[{encodeId:"676OF6WA",title:"",thumbnail:"https://photo-resize-zmp3.zadn.vn/w165_r1x1_jpeg/cover/d/6/4/8/d6483c197df34e9e6bdb69d7808a51ce.jpg",isoffical:!0,link:"/album/Dinh-Cao-COLLABS-Various-Artists/676OF6WA.html",isIndie:!1,PR:!1,playItemMode:0,subType:1,uid:422,thumbnailM:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/d/6/4/8/d6483c197df34e9e6bdb69d7808a51ce.jpg",isShuffle:!0,isPrivate:!1,userName:"Zing MP3",isAlbum:!1,textType:"Playlist",isSingle:!1,banner:"https://photo-zmp3.zadn.vn/banner/b/4/c/4/b4c492858069f9af2ea2e24395118b35.jpg",cover:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/cover/d/6/4/8/d6483c197df34e9e6bdb69d7808a51ce.jpg",target:"1",description:"",ispr:0},{encodeId:"S76780BA",title:"",thumbnail:"https://photo-resize-zmp3.zadn.vn/w165_r1x1_jpeg/cover/d/c/0/3/dc0326dae0d2332e5400135ef99477d2.jpg",isoffical:!0,link:"/album/Cham-Series-Loi-Xin-Loi-Muon-Mang-Various-Artists/S76780BA.html",isIndie:!1,PR:!1,playItemMode:2,subType:1,uid:435,thumbnailM:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/d/c/0/3/dc0326dae0d2332e5400135ef99477d2.jpg",isShuffle:!1,isPrivate:!1,userName:"Zing MP3",isAlbum:!1,textType:"Playlist",isSingle:!1,banner:"https://photo-zmp3.zadn.vn/banner/7/2/b/f/72bf8fb038e4bc910023eb836e6b321c.jpg",cover:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/cover/d/c/0/3/dc0326dae0d2332e5400135ef99477d2.jpg",target:"1",description:"",ispr:0},{encodeId:"ZO9E6IA8",title:"",alias:"Minh-Anh-Noi-Nay-NIT-Sing",isOffical:!0,username:"",artistsNames:"NIT, Sing",artists:[{id:"IWZFEEUZ",name:"NIT",link:"/nghe-si/NIT",spotlight:!1,cover:"https://photo-zmp3.zadn.vn/cover_artist/9/c/b/5/9cb5ad5836218a3eafc87c0ce43dbd53.jpg",thumbnail:"https://photo-resize-zmp3.zadn.vn/w240_r1x1_jpeg/avatars/6/8/68f228a937c00b644dd6a829afab98eb_1511237564.jpg",playlistId:"Z6BODABE",totalFollow:19045},{id:"IW69BE7D",name:"Sing",link:"/nghe-si/Nguyen-Minh-Thanh",spotlight:!1,cover:"https://zmp3-static.zadn.vn/skins/zmp3-v5.2/images/default_cover.png",thumbnail:"https://photo-resize-zmp3.zadn.vn/w240_r1x1_jpeg/avatars/f/5/4/e/f54e66c47920c24cfc157d2105bf5abf.jpg",totalFollow:1}],isWorldWide:!0,thumbnailM:"https://photo-resize-zmp3.zadn.vn/w240_r1x1_jpeg/cover/3/4/0/8/3408f95533699c03b641ed6eacaeca88.jpg",link:"/bai-hat/Minh-Anh-Noi-Nay-NIT-Sing/ZO9E6IA8.html",thumbnail:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/cover/3/4/0/8/3408f95533699c03b641ed6eacaeca88.jpg",duration:316,isZMA:!1,zingChoise:!1,isPrivate:!1,preRelease:!1,releaseDate:1615381200,streamingStatus:1,allowAudioAds:!0,hasLyric:!0,banner:"https://photo-zmp3.zadn.vn/banner/0/1/2/2/012284c470f1e692b6b89296a8aca79e.jpg",cover:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/avatars/c/2/3/e/c23e4a6cd5a4e95628ef322de6d6a983.jpg",target:"1",description:"",ispr:0},{encodeId:"67IZCZUC",title:"",thumbnail:"https://photo-resize-zmp3.zadn.vn/w165_r1x1_jpeg/cover/3/f/d/0/3fd0229f5cf4ef79e652b4821fd0f97b.jpg",isoffical:!0,link:"/album/V-Pop-2021-Nghe-Gi-Various-Artists/67IZCZUC.html",isIndie:!1,PR:!1,playItemMode:0,subType:1,uid:422,thumbnailM:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/3/f/d/0/3fd0229f5cf4ef79e652b4821fd0f97b.jpg",isShuffle:!0,isPrivate:!1,userName:"Zing MP3",isAlbum:!1,textType:"Playlist",isSingle:!1,banner:"https://photo-zmp3.zadn.vn/banner/7/b/3/c/7b3cc839dd0ba23b59e0a21191d472df.jpg",cover:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/cover/6/f/2/4/6f24c25c8a4e4ac80af0a94bfcd2dfce.jpg",target:"1",description:"",ispr:0},{encodeId:"ZCFDU6D8",title:"",thumbnail:"https://photo-resize-zmp3.zadn.vn/w165_r1x1_jpeg/cover/8/a/5/b/8a5b1ed037d9a8f640b8491eafb9ebd2.jpg",isoffical:!0,link:"/album/USUK-Nhung-Ban-Hits-Quoc-Dan-Various-Artists/ZCFDU6D8.html",isIndie:!1,PR:!1,playItemMode:0,subType:1,uid:422,thumbnailM:"https://photo-resize-zmp3.zadn.vn/w320_r1x1_jpeg/cover/8/a/5/b/8a5b1ed037d9a8f640b8491eafb9ebd2.jpg",isShuffle:!0,isPrivate:!1,userName:"Zing MP3",isAlbum:!1,textType:"Playlist",isSingle:!1,banner:"https://photo-zmp3.zadn.vn/banner/3/b/a/8/3ba874571543d60125974c2672a1747c.jpg",cover:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/cover/d/e/f/9/def9d76db570e5ad28f2ba9b577fe84d.jpg",target:"1",description:"",ispr:0}],S={props:{slider:{type:Object,required:!0},hide:{type:Boolean},currentIndex:{type:Number,default:0},index:{type:Number,default:0},total:{type:Number}},setup(e){function t(t){const{currentIndex:s,total:i,index:n}=e;let a=0;return"prev"===t?(a=n+1,a>Number(i)-1&&(a=0)):"next"===t&&(a=n-1,a<0&&(a=Number(i)-1)),s===a}return{isNext:l((()=>t("next"))),isPrev:l((()=>t("prev")))}}};const w={class:"image"},A=p("div",{class:"content"},null,-1);S.render=function(e,t,s,i,n,a){const r=o("router-link");return d(),c("div",{class:["item-wrapper",{hidden:s.hide,current:s.currentIndex===s.index,prev:i.isPrev,next:i.isNext}]},[p(r,{class:"card",to:s.slider.link,title:s.slider.title},{default:u((()=>[p("div",w,[p("img",{src:s.slider.banner,alt:"banner"},null,8,["src"])]),A])),_:1},8,["to","title"])],2)};var M={props:{sliders:{type:Array}},components:{SliderItem:S},setup(){const e=i(0),t=l((()=>{let t=e.value+1;return t>_.length-1&&(t=0),t})),s=l((()=>{let t=e.value-1;return t<0&&(t=_.length-1),t}));return{activeIndex:e,previousIndex:s,sliders:_,nextIndex:t,goNext:function(){e.value=t.value}}}};const N=m();f("data-v-4b45d5e9");const P={class:"slider"},L={href:"#",class:"inline-block"},k={class:"relative opacity-0 slider-item current",style:{position:"relative"}},C={href:"#",class:"inline-block"};v();const T=N(((e,t,s,i,n,a)=>(d(),c("div",null,[p("div",P,[(d(!0),c(h,null,b(i.sliders,((e,t)=>(d(),c("div",{class:["slider-item",{next:t===i.nextIndex,prev:t===i.previousIndex,current:t===i.activeIndex}],key:t},[p("a",L,[p("img",{src:e.banner,alt:"banner image"},null,8,["src"])])],2)))),128)),p("div",k,[p("a",C,[p("img",{src:i.sliders[0].banner,alt:"banner image"},null,8,["src"])])])])]))));M.render=T,M.__scopeId="data-v-4b45d5e9";var Z=g({name:"Carousel",props:{title:String,items:Array},setup(e){const t=i(null),s=i(0);let a,r,o;n((()=>{a=t.value.querySelector(".card"),r=Math.round(t.value.offsetWidth/a.offsetWidth),o=Math.ceil(e.items.length/r)}));const d=l((()=>{let e=s.value-1;return e<0?o-1:e})),c=l((()=>{let e=s.value+1;return e===o?0:e}));return{currentPage:s,slideLeft:function(){s.value=d.value,t.value.scrollLeft=s.value*t.value.offsetWidth},slideRight:function(){s.value=c.value,t.value.scrollLeft=s.value*t.value.offsetWidth},listEl:t}}});const E=m();f("data-v-5324aa70");const D={class:"carousel"},O={class:"flex justify-between pr-8 mt-7"},W={class:"text-lg font-bold text-primary"},B={class:"flex items-center space-x-2"},F=p("i",{class:"w-5 h-5 text-primary ic-go-left"},null,-1),R=p("i",{class:"w-5 h-5 text-primary ic-go-right"},null,-1),U={ref:"listEl",class:"carousel-items"};v();const H=E(((e,t,s,i,n,a)=>{const r=o("BaseCard");return d(),c("div",D,[p("div",O,[p("h2",W,z(e.title),1),p("div",B,[p("button",{onClick:t[1]||(t[1]=(...t)=>e.slideLeft&&e.slideLeft(...t)),class:"inline-flex items-center p-1 focus:outline-none","aria-label":"Previous List"},[F]),p("button",{onClick:t[2]||(t[2]=(...t)=>e.slideRight&&e.slideRight(...t)),class:"inline-flex items-center p-1 focus:outline-none","aria-label":"Next List"},[R])])]),p("div",U,[(d(!0),c(h,null,b(e.items,(e=>(d(),c(r,{key:e.title,list:e},null,8,["list"])))),128))],512)])}));Z.render=H,Z.__scopeId="data-v-5324aa70";var V=g({name:"InfiniteLoad",emits:["infinite-load"],setup(e,{emit:t}){const s=i(null),{isIntersecting:l}=((e,t={},s)=>{console.log({options:t});let l=null;const o=i(!1);return n((()=>{const i=a(e);if(!(i instanceof HTMLElement))throw new Error("useIntersectionObserver: ref.value is not an HTMLElement");l=new IntersectionObserver((e=>{e.forEach((e=>{o.value=e.isIntersecting,"function"==typeof s&&s(e)}))}),t),l.observe(i)})),r((()=>{null==l||l.disconnect()})),{isIntersecting:o,observer:l}})(s);return x(l,(e=>{e&&t("infinite-load")})),()=>I("div",{ref:s})}}),q=g({name:"App",components:{Slider:M,Carousel:Z,InfiniteLoad:V},setup(){const n=i(1),a=y({sections:[],hasMore:!1}),{exec:r,onSuccess:l,status:o}=e("fetchHome",t);return r(n.value),l((e=>{a.sections.push(...e.items),a.hasMore=e.hasMore,n.value++})),{home:a,status:o,ApiStatus:s,page:n,fetchMore:function(){n.value<4&&r(n.value)}}}});const G={key:0};q.render=function(e,t,s,i,n,a){const r=o("Slider"),l=o("Carousel"),u=o("InfiniteLoad");return d(),c(h,null,[e.status===e.ApiStatus.PENDING&&1===e.page?(d(),c("div",G,"Loading...")):j("",!0),e.status===e.ApiStatus.SUCCESS||e.page>1?(d(),c(h,{key:1},[p(r),(d(!0),c(h,null,b(e.home.sections,((e,t)=>(d(),c("section",{key:t},["playlist"===e.sectionType?(d(),c(l,{key:0,items:e.items,title:e.title},null,8,["items","title"])):j("",!0)])))),128)),p(u,{class:"fixed bottom-16",onInfiniteLoad:e.fetchMore},null,8,["onInfiniteLoad"])],64)):j("",!0)],64)};export default q;
